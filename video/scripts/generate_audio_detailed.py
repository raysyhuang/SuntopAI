import asyncio
import edge_tts
import os

# Chinese female voice (professional, clear)
VOICE = "zh-CN-XiaoxiaoNeural"
OUTPUT_DIR = "../public/audio"

# Detailed scripts for each section
scripts = {
    "home": """欢迎了解 SuntopAI，智能血液透析管理平台。

在中国，超过80万血液透析患者每年需要进行超过一亿次透析治疗。
传统透析管理面临着诸多挑战：设备监控分散、数据采集延迟、预警不及时、临床决策依赖经验。

SuntopAI 应运而生。
我们通过人工智能和物联网技术，构建了一个全流程智能透析管理平台。

目前，我们已经取得了显著成果：
连接超过3000台透析设备，
服务25家以上合作医院，包括5家以上公立医院和20家以上私立医院，
实现5秒级数据采集频率，
AI预警准确率高达95%。

平台提供三大核心能力：
第一，中央监控系统，让医护人员在一个界面实时掌握所有透析设备和患者状态。
第二，AI智能预警，提前预测低血压等不良事件，将预警时间提前到15分钟以上。
第三，移动端管理，医生护士可以随时随地通过手机查看患者情况，及时响应。

SuntopAI，让每一次透析都更安全、更智能。""",

    "platform": """数字化透析平台，六大核心模块，覆盖透析全流程管理。

第一，中央监控系统。
这是平台的核心枢纽。在中央监控大屏上，您可以实时查看所有透析机的运行状态，
包括血流量、跨膜压、超滤量等关键参数。系统自动标记异常设备，支持一键下钻查看详情。
同时提供设备利用率分析，帮助优化排班和资源配置。

第二，数字化查房模块。
告别纸质记录，医护人员可以通过平板电脑或手机完成查房。
系统自动关联患者的透析数据、检验结果和历史记录，
支持语音输入和快捷模板，大幅提升查房效率。
查房记录实时同步到电子病历系统。

第三，AI智能终端。
安装在每台透析机旁的智能终端，实时采集透析数据并进行边缘计算。
当检测到异常趋势时，终端会立即发出预警，同时推送到护士站和医生手机。
终端还提供透析参数建议，辅助医护人员做出更精准的治疗决策。

第四，血压体重助手。
透析前后的血压和体重测量是重要的临床指标。
我们的智能血压体重一体机可以自动识别患者身份，自动记录测量数据，
并计算干体重偏差，提醒医护人员关注体重增长过多的患者。

第五，足部管理模块。
糖尿病足是透析患者常见的并发症。我们的足部管理模块通过足部照片智能分析，
早期识别足部病变风险，建立完整的足部健康档案，
帮助医护人员制定预防和治疗方案。

第六，耗材管理系统。
透析中心每天消耗大量耗材，管理复杂。
我们的系统支持耗材出入库自动记录、效期预警、批次追溯，
并与透析治疗记录关联，实现耗材使用的全程可追溯。

六大模块协同工作，构建起完整的数字化透析管理体系。""",

    "clinical": """临床应用，精细化管理，全面提升透析质量。

通过SuntopAI平台的应用，我们的合作医院已经取得了显著的临床成效：
透析中不良事件减少40%，
临床工作效率提升35%，
AI预警准确率达到95%。

平台的临床应用分为三大管理方向：

第一部分，中心管理。
这是面向透析中心管理者的功能模块。
患者信息管理：建立完整的患者档案，包括基本信息、透析处方、过敏史、合并症等。
支持患者分组管理，方便按病情、透析班次进行分类管理。
治疗方案优化：基于历史透析数据，AI系统会分析每位患者的透析效果，
提出处方调整建议，帮助医生优化透析方案。
质量控制分析：自动生成各类质控报表，包括Kt/V达标率、血红蛋白控制率等关键指标，
支持与国家质控标准对比，找出改进方向。

第二部分，患者管理。
这是面向患者全病程的管理功能。
个性化治疗：每位患者都有独特的生理特点，平台支持为每位患者定制透析处方，
并根据透析反应动态调整。
健康档案：整合患者的透析记录、检验结果、影像资料，形成完整的健康档案，
医生可以随时查阅患者的完整病史。
随访管理：对于出院患者或居家透析患者，系统支持远程随访，
患者可以通过小程序上传健康数据，医生可以远程指导。

第三部分，IT基础设施。
这是平台稳定运行的技术保障。
设备互联：支持对接市面上主流品牌的透析机，包括费森尤斯、贝朗、日机装等，
实现设备数据的统一采集和管理。
数据安全：采用医疗级数据加密标准，支持私有化部署，
确保患者数据的安全性和隐私保护。
系统集成：支持与医院HIS、LIS、PACS等系统对接，
实现数据互通，避免信息孤岛。

精细化管理，让每一位透析患者都得到更好的照护。""",

    "deployment": """灵活部署方案，专业团队全程护航。

SuntopAI平台提供灵活的部署方式，可以根据医院的需求选择云端部署或本地私有化部署。
无论哪种方式，我们都有专业团队全程支持，确保项目顺利上线。

部署分为四个阶段：

第一阶段，需求评估。
我们的技术顾问会深入医院，了解透析中心的规模、现有设备、信息化现状和管理痛点。
根据评估结果，制定个性化的实施方案和项目计划。

第二阶段，系统配置。
根据医院需求，进行平台的定制化配置，包括科室设置、人员权限、透析班次、预警规则等。
同时完成服务器部署和网络环境搭建。

第三阶段，设备对接。
这是技术实施的核心环节。我们的工程师会到现场，完成透析机的数据采集对接。
目前已支持50多种型号的透析设备，对接成功率超过99%。
对接完成后，进行数据准确性验证，确保采集数据与设备显示一致。

第四阶段，培训上线。
我们会为医护人员提供全面的系统培训，包括操作培训、预警处理流程、数据分析方法等。
上线初期，我们的驻场工程师会提供现场支持，确保平稳过渡。
上线后，我们提供7乘24小时远程技术支持。

在安全方面，我们提供全方位保障：
数据加密：所有数据传输和存储均采用医疗级加密标准。
访问控制：支持细粒度的权限管理，确保数据访问的合规性。
审计追踪：所有操作都有完整的日志记录，支持追溯和审计。
云端备份：数据定期自动备份，支持快速恢复，确保业务连续性。

选择SuntopAI，让您的透析中心迈入智能化管理新时代。
访问 able to www.suntopai.com 了解更多信息，或联系我们获取演示。
SuntopAI，让透析更智能，更安全。"""
}

async def generate_audio(name: str, text: str):
    """Generate audio file from text using edge-tts"""
    output_file = os.path.join(OUTPUT_DIR, f"{name}.mp3")
    
    # Slightly slower rate for detailed content
    communicate = edge_tts.Communicate(text, VOICE, rate="-8%")
    await communicate.save(output_file)
    print(f"Generated: {output_file}")

async def main():
    os.makedirs(OUTPUT_DIR, exist_ok=True)
    
    for name, text in scripts.items():
        await generate_audio(name, text)
    
    print("\nAll detailed audio files generated successfully!")

if __name__ == "__main__":
    asyncio.run(main())
